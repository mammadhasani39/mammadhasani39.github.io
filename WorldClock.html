<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <title>World Hour</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body {
      font-family: sans-serif;
      background: #121212;
      color: #eee;
      margin: 0;
      padding: 20px;
      text-align: center;
    }
    h1 {
      font-size: 24px;
      margin-bottom: 15px;
      color: #eee;
    }
    #searchInput {
      width: 320px;
      padding: 8px 12px;
      font-size: 16px;
      border-radius: 8px;
      border: none;
      margin-bottom: 20px;
      outline: none;
      background: #222;
      color: #eee;
      direction: rtl;
    }
    .clock-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 12px;
      max-width: 1200px;
      margin: 0 auto;
    }
    .clock {
      background: #1e1e1e;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.7);
      width: 220px;
      padding: 15px 10px;
      box-sizing: border-box;
      user-select: none;
      color: #eee;
      transition: all 0.3s ease;
    }
    .country {
      font-size: 16px;
      margin-bottom: 8px;
      white-space: nowrap;
      direction: ltr;
      font-weight: 600;
      color: #bb86fc;
    }
    .time {
      font-family: monospace;
      font-size: 17px;
      font-weight: bold;
      color: #03dac6;
      direction: ltr;
    }
    @media (max-width: 480px) {
      .clock {
        width: 90vw;
        margin-bottom: 12px;
      }
    }
  </style>
</head>
<body>
  <h1>Ø³Ø§Ø¹Øª Ø¬Ù‡Ø§Ù†ÛŒ</h1>
  <input type="text" id="searchInput" placeholder="Ø¬Ø³ØªØ¬ÙˆÛŒ Ú©Ø´ÙˆØ±..." />

  <div class="clock-container" id="clockContainer"></div>

  <script>
    const countries = [
      { flag: 'ðŸ‡®ðŸ‡·', name: 'Ø§ÛŒØ±Ø§Ù†', zones: ['Asia/Tehran'] },
      { flag: 'ðŸ‡ºðŸ‡¸', name: 'Ø¢Ù…Ø±ÛŒÚ©Ø§ (Ù†ÛŒÙˆÛŒÙˆØ±Ú©)', zones: ['America/New_York'] },
      { flag: 'ðŸ‡ºðŸ‡¸', name: 'Ø¢Ù…Ø±ÛŒÚ©Ø§ (Ø´ÛŒÚ©Ø§Ú¯Ùˆ)', zones: ['America/Chicago'] },
      { flag: 'ðŸ‡ºðŸ‡¸', name: 'Ø¢Ù…Ø±ÛŒÚ©Ø§ (Ø¯Ù†ÙˆØ±)', zones: ['America/Denver'] },
      { flag: 'ðŸ‡ºðŸ‡¸', name: 'Ø¢Ù…Ø±ÛŒÚ©Ø§ (Ù„Ø³ Ø¢Ù†Ø¬Ù„Ø³)', zones: ['America/Los_Angeles'] },
      { flag: 'ðŸ‡¨ðŸ‡¦', name: 'Ú©Ø§Ù†Ø§Ø¯Ø§ (ØªÙˆØ±Ù†ØªÙˆ)', zones: ['America/Toronto'] },
      { flag: 'ðŸ‡¨ðŸ‡¦', name: 'Ú©Ø§Ù†Ø§Ø¯Ø§ (ÙˆÙ†Ú©ÙˆÙˆØ±)', zones: ['America/Vancouver'] },
      { flag: 'ðŸ‡¬ðŸ‡§', name: 'Ø¨Ø±ÛŒØªØ§Ù†ÛŒØ§', zones: ['Europe/London'] },
      { flag: 'ðŸ‡«ðŸ‡·', name: 'ÙØ±Ø§Ù†Ø³Ù‡', zones: ['Europe/Paris'] },
      { flag: 'ðŸ‡©ðŸ‡ª', name: 'Ø¢Ù„Ù…Ø§Ù†', zones: ['Europe/Berlin'] },
      { flag: 'ðŸ‡®ðŸ‡¹', name: 'Ø§ÛŒØªØ§Ù„ÛŒØ§', zones: ['Europe/Rome'] },
      { flag: 'ðŸ‡ªðŸ‡¸', name: 'Ø§Ø³Ù¾Ø§Ù†ÛŒØ§', zones: ['Europe/Madrid'] },
      { flag: 'ðŸ‡³ðŸ‡±', name: 'Ù‡Ù„Ù†Ø¯', zones: ['Europe/Amsterdam'] },
      { flag: 'ðŸ‡§ðŸ‡ª', name: 'Ø¨Ù„Ú˜ÛŒÚ©', zones: ['Europe/Brussels'] },
      { flag: 'ðŸ‡·ðŸ‡º', name: 'Ø±ÙˆØ³ÛŒÙ‡ (Ù…Ø³Ú©Ùˆ)', zones: ['Europe/Moscow'] },
      { flag: 'ðŸ‡·ðŸ‡º', name: 'Ø±ÙˆØ³ÛŒÙ‡ (ÛŒÚ©Ø§ØªØ±ÛŒÙ†Ø¨ÙˆØ±Ú¯)', zones: ['Asia/Yekaterinburg'] },
      { flag: 'ðŸ‡·ðŸ‡º', name: 'Ø±ÙˆØ³ÛŒÙ‡ (Ø§ÛŒÙ„Ø§Ù†Ø³Ú©)', zones: ['Asia/Krasnoyarsk'] },
      { flag: 'ðŸ‡¯ðŸ‡µ', name: 'Ú˜Ø§Ù¾Ù†', zones: ['Asia/Tokyo'] },
      { flag: 'ðŸ‡¨ðŸ‡³', name: 'Ú†ÛŒÙ†', zones: ['Asia/Shanghai'] },
      { flag: 'ðŸ‡°ðŸ‡·', name: 'Ú©Ø±Ù‡ Ø¬Ù†ÙˆØ¨ÛŒ', zones: ['Asia/Seoul'] },
      { flag: 'ðŸ‡¦ðŸ‡º', name: 'Ø§Ø³ØªØ±Ø§Ù„ÛŒØ§ (Ø³ÛŒØ¯Ù†ÛŒ)', zones: ['Australia/Sydney'] },
      { flag: 'ðŸ‡¦ðŸ‡º', name: 'Ø§Ø³ØªØ±Ø§Ù„ÛŒØ§ (Ù¾Ø±Øª)', zones: ['Australia/Perth'] },
      { flag: 'ðŸ‡®ðŸ‡³', name: 'Ù‡Ù†Ø¯', zones: ['Asia/Kolkata'] },
      { flag: 'ðŸ‡§ðŸ‡·', name: 'Ø¨Ø±Ø²ÛŒÙ„ (Ø³Ø§Ø¦ÙˆÙ¾Ø§Ø¦ÙˆÙ„Ùˆ)', zones: ['America/Sao_Paulo'] },
      { flag: 'ðŸ‡²ðŸ‡½', name: 'Ù…Ú©Ø²ÛŒÚ© (Ù…Ú©Ø²ÛŒÚ©ÙˆØ³ÛŒØªÛŒ)', zones: ['America/Mexico_City'] },
      { flag: 'ðŸ‡¸ðŸ‡¦', name: 'Ø¹Ø±Ø¨Ø³ØªØ§Ù† Ø³Ø¹ÙˆØ¯ÛŒ', zones: ['Asia/Riyadh'] },
      { flag: 'ðŸ‡¹ðŸ‡·', name: 'ØªØ±Ú©ÛŒÙ‡', zones: ['Europe/Istanbul'] },
      { flag: 'ðŸ‡¿ðŸ‡¦', name: 'Ø¢ÙØ±ÛŒÙ‚Ø§ÛŒ Ø¬Ù†ÙˆØ¨ÛŒ (Ú˜ÙˆÙ‡Ø§Ù†Ø³Ø¨ÙˆØ±Ú¯)', zones: ['Africa/Johannesburg'] },
      { flag: 'ðŸ‡¸ðŸ‡¬', name: 'Ø³Ù†Ú¯Ø§Ù¾ÙˆØ±', zones: ['Asia/Singapore'] },
      { flag: 'ðŸ‡¦ðŸ‡ª', name: 'Ø§Ù…Ø§Ø±Ø§Øª Ù…ØªØ­Ø¯Ù‡ Ø¹Ø±Ø¨ÛŒ', zones: ['Asia/Dubai'] },
      { flag: 'ðŸ‡®ðŸ‡¶', name: 'Ø¹Ø±Ø§Ù‚', zones: ['Asia/Baghdad'] },
      { flag: 'ðŸ‡µðŸ‡°', name: 'Ù¾Ø§Ú©Ø³ØªØ§Ù†', zones: ['Asia/Karachi'] },
      { flag: 'ðŸ‡ªðŸ‡¬', name: 'Ù…ØµØ±', zones: ['Africa/Cairo'] },
      { flag: 'ðŸ‡³ðŸ‡¬', name: 'Ù†ÛŒØ¬Ø±ÛŒÙ‡', zones: ['Africa/Lagos'] },
      { flag: 'ðŸ‡¦ðŸ‡·', name: 'Ø¢Ø±Ú˜Ø§Ù†ØªÛŒÙ† (Ø¨ÙˆØ¦Ù†ÙˆØ³ Ø¢ÛŒØ±Ø³)', zones: ['America/Argentina/Buenos_Aires'] },
      { flag: 'ðŸ‡¨ðŸ‡±', name: 'Ø´ÛŒÙ„ÛŒ (Ø³Ø§Ù†ØªÛŒØ§Ú¯Ùˆ)', zones: ['America/Santiago'] },
      { flag: 'ðŸ‡¸ðŸ‡ª', name: 'Ø³ÙˆØ¦Ø¯', zones: ['Europe/Stockholm'] },
      { flag: 'ðŸ‡³ðŸ‡´', name: 'Ù†Ø±ÙˆÚ˜', zones: ['Europe/Oslo'] },
      { flag: 'ðŸ‡µðŸ‡±', name: 'Ù„Ù‡Ø³ØªØ§Ù†', zones: ['Europe/Warsaw'] },
      { flag: 'ðŸ‡«ðŸ‡®', name: 'ÙÙ†Ù„Ø§Ù†Ø¯', zones: ['Europe/Helsinki'] },
      { flag: 'ðŸ‡©ðŸ‡°', name: 'Ø¯Ø§Ù†Ù…Ø§Ø±Ú©', zones: ['Europe/Copenhagen'] },
      { flag: 'ðŸ‡¨ðŸ‡¿', name: 'Ø¬Ù…Ù‡ÙˆØ±ÛŒ Ú†Ú©', zones: ['Europe/Prague'] },
      { flag: 'ðŸ‡­ðŸ‡º', name: 'Ù…Ø¬Ø§Ø±Ø³ØªØ§Ù†', zones: ['Europe/Budapest'] },
      { flag: 'ðŸ‡·ðŸ‡´', name: 'Ø±ÙˆÙ…Ø§Ù†ÛŒ', zones: ['Europe/Bucharest'] },
      { flag: 'ðŸ‡¬ðŸ‡·', name: 'ÛŒÙˆÙ†Ø§Ù†', zones: ['Europe/Athens'] },
      { flag: 'ðŸ‡®ðŸ‡¸', name: 'Ø§ÛŒØ³Ù„Ù†Ø¯', zones: ['Atlantic/Reykjavik'] },
      { flag: 'ðŸ‡ºðŸ‡¦', name: 'Ø§ÙˆÚ©Ø±Ø§ÛŒÙ† (Ú©ÛŒâ€ŒÛŒÙ)', zones: ['Europe/Kiev'] },
      { flag: 'ðŸ‡§ðŸ‡¾', name: 'Ø¨Ù„Ø§Ø±ÙˆØ³', zones: ['Europe/Minsk'] },
      { flag: 'ðŸ‡±ðŸ‡¹', name: 'Ù„ØªÙˆÙ†ÛŒ', zones: ['Europe/Riga'] },
      { flag: 'ðŸ‡±ðŸ‡»', name: 'Ù„ØªÙˆÙ†ÛŒ', zones: ['Europe/Vilnius'] },
      { flag: 'ðŸ‡²ðŸ‡©', name: 'Ù…ÙˆÙ„Ø¯Ø§ÙˆÛŒ', zones: ['Europe/Chisinau'] },
      { flag: 'ðŸ‡¨ðŸ‡­', name: 'Ø³ÙˆØ¦ÛŒØ³', zones: ['Europe/Zurich'] },
      { flag: 'ðŸ‡±ðŸ‡º', name: 'Ù„ÙˆÚ©Ø²Ø§Ù…Ø¨ÙˆØ±Ú¯', zones: ['Europe/Luxembourg'] },
      { flag: 'ðŸ‡³ðŸ‡¿', name: 'Ù†ÛŒÙˆØ²ÛŒÙ„Ù†Ø¯ (ÙˆÙ„ÛŒÙ†Ú¯ØªÙˆÙ†)', zones: ['Pacific/Auckland'] },
      { flag: 'ðŸ‡µðŸ‡ª', name: 'Ù¾Ø±Ùˆ', zones: ['America/Lima'] },
      { flag: 'ðŸ‡¨ðŸ‡´', name: 'Ú©Ù„Ù…Ø¨ÛŒØ§', zones: ['America/Bogota'] },
      { flag: 'ðŸ‡»ðŸ‡ª', name: 'ÙˆÙ†Ø²ÙˆØ¦Ù„Ø§', zones: ['America/Caracas'] },
      { flag: 'ðŸ‡§ðŸ‡¬', name: 'Ø¨Ù„ØºØ§Ø±Ø³ØªØ§Ù†', zones: ['Europe/Sofia'] },
      { flag: 'ðŸ‡­ðŸ‡·', name: 'Ú©Ø±ÙˆØ§Ø³ÛŒ', zones: ['Europe/Zagreb'] },
      { flag: 'ðŸ‡¸ðŸ‡°', name: 'Ø§Ø³Ù„ÙˆØ§Ú©ÛŒ', zones: ['Europe/Bratislava'] },
      { flag: 'ðŸ‡¸ðŸ‡®', name: 'Ø§Ø³Ù„ÙˆÙˆÙ†ÛŒ', zones: ['Europe/Ljubljana'] },
      { flag: 'ðŸ‡²ðŸ‡¹', name: 'Ù…Ø§Ù„Øª', zones: ['Europe/Malta'] },
      { flag: 'ðŸ‡®ðŸ‡ª', name: 'Ø§ÛŒØ±Ù„Ù†Ø¯', zones: ['Europe/Dublin'] },
      { flag: 'ðŸ‡§ðŸ‡¦', name: 'Ø¨ÙˆØ³Ù†ÛŒ Ùˆ Ù‡Ø±Ø²Ú¯ÙˆÛŒÙ†', zones: ['Europe/Sarajevo'] },
      { flag: 'ðŸ‡·ðŸ‡¸', name: 'ØµØ±Ø¨Ø³ØªØ§Ù†', zones: ['Europe/Belgrade'] },
      { flag: 'ðŸ‡²ðŸ‡ª', name: 'Ù…ÙˆÙ†ØªÙ‡â€ŒÙ†Ú¯Ø±Ùˆ', zones: ['Europe/Podgorica'] },
      { flag: 'ðŸ‡²ðŸ‡°', name: 'Ù…Ù‚Ø¯ÙˆÙ†ÛŒÙ‡ Ø´Ù…Ø§Ù„ÛŒ', zones: ['Europe/Skopje'] },
      { flag: 'ðŸ‡¦ðŸ‡±', name: 'Ø¢Ù„Ø¨Ø§Ù†ÛŒ', zones: ['Europe/Tirane'] },
      { flag: 'ðŸ‡©ðŸ‡¿', name: 'Ø§Ù„Ø¬Ø²Ø§ÛŒØ±', zones: ['Africa/Algiers'] },
      { flag: 'ðŸ‡²ðŸ‡¦', name: 'Ù…Ø±Ø§Ú©Ø´', zones: ['Africa/Casablanca'] },
      { flag: 'ðŸ‡¹ðŸ‡³', name: 'ØªÙˆÙ†Ø³', zones: ['Africa/Tunis'] },
      { flag: 'ðŸ‡±ðŸ‡§', name: 'Ù„Ø¨Ù†Ø§Ù†', zones: ['Asia/Beirut'] },
      { flag: 'ðŸ‡¯ðŸ‡´', name: 'Ø§Ø±Ø¯Ù†', zones: ['Asia/Amman'] },
      { flag: 'ðŸ‡°ðŸ‡¼', name: 'Ú©ÙˆÛŒØª', zones: ['Asia/Kuwait'] },
      { flag: 'ðŸ‡§ðŸ‡­', name: 'Ø¨Ø­Ø±ÛŒÙ†', zones: ['Asia/Bahrain'] },
      { flag: 'ðŸ‡¶ðŸ‡¦', name: 'Ù‚Ø·Ø±', zones: ['Asia/Qatar'] },
      { flag: 'ðŸ‡¦ðŸ‡²', name: 'Ø§Ø±Ù…Ù†Ø³ØªØ§Ù†', zones: ['Asia/Yerevan'] },
      { flag: 'ðŸ‡¬ðŸ‡ª', name: 'Ú¯Ø±Ø¬Ø³ØªØ§Ù†', zones: ['Asia/Tbilisi'] },
      { flag: 'ðŸ‡¦ðŸ‡¿', name: 'Ø¢Ø°Ø±Ø¨Ø§ÛŒØ¬Ø§Ù†', zones: ['Asia/Baku'] },
      { flag: 'ðŸ‡§ðŸ‡©', name: 'Ø¨Ù†Ú¯Ù„Ø§Ø¯Ø´', zones: ['Asia/Dhaka'] },
      { flag: 'ðŸ‡±ðŸ‡°', name: 'Ø³Ø±ÛŒÙ„Ø§Ù†Ú©Ø§', zones: ['Asia/Colombo'] },
      { flag: 'ðŸ‡²ðŸ‡²', name: 'Ù…ÛŒØ§Ù†Ù…Ø§Ø±', zones: ['Asia/Yangon'] },
      { flag: 'ðŸ‡¹ðŸ‡­', name: 'ØªØ§ÛŒÙ„Ù†Ø¯', zones: ['Asia/Bangkok'] },
      { flag: 'ðŸ‡»ðŸ‡³', name: 'ÙˆÛŒØªÙ†Ø§Ù…', zones: ['Asia/Ho_Chi_Minh'] },
      { flag: 'ðŸ‡°ðŸ‡­', name: 'Ú©Ø§Ù…Ø¨ÙˆØ¬', zones: ['Asia/Phnom_Penh'] },
      { flag: 'ðŸ‡µðŸ‡­', name: 'ÙÛŒÙ„ÛŒÙ¾ÛŒÙ†', zones: ['Asia/Manila'] },
      { flag: 'ðŸ‡®ðŸ‡©', name: 'Ø§Ù†Ø¯ÙˆÙ†Ø²ÛŒ (Ø¬Ø§Ú©Ø§Ø±ØªØ§)', zones: ['Asia/Jakarta'] },
      { flag: 'ðŸ‡®ðŸ‡©', name: 'Ø§Ù†Ø¯ÙˆÙ†Ø²ÛŒ (Ø¨Ø§Ù„ÛŒ)', zones: ['Asia/Makassar'] },
      { flag: 'ðŸ‡²ðŸ‡¾', name: 'Ù…Ø§Ù„Ø²ÛŒ', zones: ['Asia/Kuala_Lumpur'] },
      { flag: 'ðŸ‡¸ðŸ‡¾', name: 'Ø³ÙˆØ±ÛŒÙ‡', zones: ['Asia/Damascus'] },
      { flag: 'ðŸ‡¾ðŸ‡ª', name: 'ÛŒÙ…Ù†', zones: ['Asia/Aden'] },
      { flag: 'ðŸ‡¸ðŸ‡©', name: 'Ø³ÙˆØ¯Ø§Ù†', zones: ['Africa/Khartoum'] },
      { flag: 'ðŸ‡ªðŸ‡·', name: 'Ø§Ø±ÛŒØªØ±Ù‡', zones: ['Africa/Asmara'] },
      { flag: 'ðŸ‡¨ðŸ‡»', name: 'Ú©ÛŒÙ¾ ÙˆØ±Ø¯', zones: ['Atlantic/Cape_Verde'] },
      { flag: 'ðŸ‡®ðŸ‡¸', name: 'Ø§ÛŒØ³Ù„Ù†Ø¯', zones: ['Atlantic/Reykjavik'] },
    ];

    const container = document.getElementById('clockContainer');
    const searchInput = document.getElementById('searchInput');

    function createClockElements() {
      container.innerHTML = '';
      countries.forEach(({flag, name}, i) => {
        const div = document.createElement('div');
        div.className = 'clock';
        div.dataset.name = name;
        div.innerHTML = `<div class="country">${flag} ${name}</div><div class="time" id="time${i}">--:--:--</div>`;
        container.appendChild(div);
      });
    }

    createClockElements();

    function toTwoDigits(n) {
      return n.toString().padStart(2, '0');
    }
    function formatExactTime(date) {
      return `${toTwoDigits(date.getHours())}:${toTwoDigits(date.getMinutes())}:${toTwoDigits(date.getSeconds())}`;
    }
    function getAverageTime(timezones) {
      const now = new Date();
      const times = timezones.map(tz => new Date(now.toLocaleString('en-US', { timeZone: tz })));
      const avgTimestamp = times.reduce((sum, t) => sum + t.getTime(), 0) / times.length;
      return new Date(avgTimestamp);
    }

    function updateClocks() {
      countries.forEach(({zones}, i) => {
        const time = zones.length === 1 ? 
          new Date(new Date().toLocaleString('en-US', { timeZone: zones[0] })) : 
          getAverageTime(zones);
        const timeElem = document.getElementById(`time${i}`);
        if (timeElem) timeElem.textContent = formatExactTime(time);
      });
    }

    function filterClocks() {
      const query = searchInput.value.trim();
      const clocks = container.querySelectorAll('.clock');
      clocks.forEach(clock => {
        const name = clock.dataset.name;
        if (name.includes(query)) {
          clock.style.display = 'block';
        } else {
          clock.style.display = 'none';
        }
      });
    }

    searchInput.addEventListener('input', filterClocks);

    updateClocks();
    setInterval(updateClocks, 500);
  </script>
</body>
</html>
